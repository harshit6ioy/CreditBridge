<!DOCTYPE html>
<html>
<head>
    <title>Backend API Test</title>
</head>
<body>
    <h1>Loan Verification Test</h1>
    <p>Open your browser's Console (F12) to see the Backend response!</p>
    
    <label for="bankId">Bank ID (e.g., 101, 102):</label>
    <input type="text" id="bankId" value="101" required><br><br>

    <label for="panNumber">PAN Number:</label>
    <input type="text" id="panNumber" value="ABCDE1234F" required><br><br>

    <button onclick="sendData()">Test Verification</button>

    <script>
        async function sendData() {
            const bankId = document.getElementById('bankId').value;
            const panNumber = document.getElementById('panNumber').value;

            // This is the data we are SENDING to the server
            const dataToSend = {
                bankId: bankId,
                panNumber: panNumber
            };

            console.log("Sending:", dataToSend);
            
            try {
                // Call your Node.js API route!
                const response = await fetch('http://localhost:5000/verify-user', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(dataToSend) // Convert the JavaScript object to JSON text
                });

                const result = await response.json();
                
                // This is the answer you get back from your server
                console.log("✅ Backend Response:", result);

            } catch (error) {
                console.error("❌ Error connecting to server:", error);
                alert("Make sure your server is running!");
            }
        }
    </script>
</body>
</html>